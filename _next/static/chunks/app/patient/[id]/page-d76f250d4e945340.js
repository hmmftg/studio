(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[510],{26126:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var a=s(95155);s(12115);var r=s(74466),n=s(59434);let i=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(i({variant:s}),t),...r})}},63078:(e,t,s)=>{"use strict";s.d(t,{default:()=>E});var a=s(95155),r=s(12115),n=s(35695),i=s(58127),l=s(70154),d=s(56191),c=s(22945),o=s(4913),m=s(94063),p=s(73672),x=s(15873),u=s(28274),f=s(6874),h=s.n(f),g=s(66695),j=s(30285),b=s(22346),N=s(26126),y=s(59434),v=s(48188),w=s(62523),k=s(87481),A=s(85057),R=s(85127);let T=[{drug:"Paracetamol",dosage:"500mg, twice a day",notes:"Take with food for 3 days"},{drug:"Saline Nasal Spray",dosage:"2 sprays per nostril",notes:"Use every 4-6 hours as needed"}],C=async(e,t)=>new Promise(s=>{setTimeout(()=>{if(e.includes("&&"))return s(e.split("&&").map(e=>"[".concat(t,"] ").concat(e)).join("&&"));s("[".concat(t,"] ").concat(e))},500)});function E(){let e=(0,n.useParams)(),t=(0,n.useSearchParams)(),s=t.get("name")||"Patient",f=t.get("nationality")||"English",{t:E,setLocale:H}=(0,v.c)(),{toast:B}=(0,k.dj)(),[P,S]=(0,r.useState)(1),[_,F]=(0,r.useState)(""),[Z,$]=(0,r.useState)([]),[z,D]=(0,r.useState)(!1),[I,J]=(0,r.useState)(null),O=[{id:1,title:E("patient.steps.registered.title"),description:E("patient.steps.registered.description"),icon:i.A},{id:2,title:E("patient.steps.waiting.title"),description:E("patient.steps.waiting.description"),icon:l.A},{id:3,title:E("patient.steps.consultation.title"),description:E("patient.steps.consultation.description"),icon:d.A},{id:4,title:E("patient.steps.service.title"),description:E("patient.steps.service.description"),icon:c.A},{id:5,title:E("patient.steps.completed.title"),description:E("patient.steps.completed.description"),icon:i.A}];(0,r.useEffect)(()=>{H({english:"en",iranian:"fa",iraqi:"ar",turkish:"tr",pakistani:"ur"}[f.toLowerCase()]||"en")},[f,H]),(0,r.useEffect)(()=>{let e=0,t=[3e3,5e3,7e3,5e3,4e3].map((t,s)=>setTimeout(()=>{s+2===5&&$(T),S(s+2)},e+=t));return()=>t.forEach(clearTimeout)},[]);let W=async()=>{if(!z&&Z.length){D(!0),J(null);try{let e=[];for(let t of Z){let s="".concat(t.drug,"&&").concat(t.dosage,"&&").concat(t.notes),[a,r,n]=(await C(s,f)).split("&&");e.push({drug:a,dosage:r,notes:n})}J(e)}catch(e){console.error("Prescription translation failed",e),B({variant:"destructive",title:"Translation Error",description:"Could not translate the prescription."})}finally{D(!1)}}},X=e=>e<P?{icon:(0,a.jsx)(i.A,{className:"text-primary"}),connector:"bg-primary"}:e===P?{icon:(0,a.jsx)(o.A,{className:"animate-spin text-primary"}),connector:"bg-border"}:{icon:(0,a.jsx)(l.A,{className:"text-muted-foreground"}),connector:"bg-border"},q=I||Z;return(0,a.jsx)("main",{className:"flex min-h-[calc(100vh-4rem)] flex-col items-center justify-center bg-background p-4",children:(0,a.jsxs)(g.Zp,{className:"w-full max-w-2xl shadow-lg animate-in fade-in-50 zoom-in-95",children:[(0,a.jsxs)(g.aR,{children:[(0,a.jsxs)(g.ZB,{className:"text-2xl font-headline",children:[E("patient.welcome"),", ",s,"!"]}),(0,a.jsx)(g.BT,{children:E("patient.description")})]}),(0,a.jsxs)(g.Wu,{className:"space-y-8",children:[(0,a.jsx)("div",{children:(0,a.jsx)("ul",{className:"space-y-0",children:O.map((e,t)=>{let s=X(e.id);return(0,a.jsxs)("li",{className:"flex items-start gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center h-full",children:[(0,a.jsx)("div",{className:(0,y.cn)("h-10 w-10 rounded-full flex items-center justify-center bg-muted shrink-0",P>=e.id&&"bg-primary/20"),children:s.icon}),t<O.length-1&&(0,a.jsx)("div",{className:(0,y.cn)("w-px flex-1 my-1",s.connector)})]}),(0,a.jsxs)("div",{className:"pt-1.5",children:[(0,a.jsx)("p",{className:(0,y.cn)("font-medium",P>=e.id&&"text-primary"),children:e.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]})]},e.id)})})}),(0,a.jsx)(b.w,{}),P<5&&(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"p-4 bg-muted/50 border rounded-lg animate-in fade-in-50",children:[(0,a.jsxs)(A.J,{htmlFor:"patient-message",className:"flex items-center gap-2 mb-2 font-semibold",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),E("patient.message.title")]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:E("patient.message.description")}),(0,a.jsxs)("div",{className:"flex w-full items-center space-x-2",children:[(0,a.jsx)(w.p,{id:"patient-message",type:"text",placeholder:E("patient.message.placeholder"),value:_,onChange:e=>F(e.target.value)}),(0,a.jsx)(j.$,{type:"submit",onClick:()=>{_&&(B({title:E("patient.message.sentTitle"),description:E("patient.message.sentDescription")}),F(""))},disabled:!_,children:(0,a.jsx)(p.A,{className:"h-4 w-4"})})]})]})}),P>=4&&0===Z.length&&(0,a.jsxs)("div",{className:"p-4 bg-accent/20 border border-accent rounded-lg text-center animate-in fade-in-50",children:[(0,a.jsx)("h3",{className:"font-bold text-lg text-accent-foreground",children:E("patient.action.title")}),(0,a.jsx)("p",{className:"text-muted-foreground mb-2",children:E("patient.action.goToPharmacy")}),(0,a.jsxs)("p",{className:"text-sm",children:[E("patient.action.code"),":"]}),(0,a.jsx)(N.E,{variant:"default",className:"text-2xl font-mono tracking-widest px-4 py-2 mt-2",children:"PH7891"})]}),Z.length>0&&(0,a.jsxs)("div",{className:"p-4 bg-primary/10 border border-primary/50 rounded-lg animate-in fade-in-50 space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-lg text-primary",children:E("patient.prescription.title")}),(0,a.jsx)("p",{className:"text-muted-foreground",children:E("patient.prescription.description")})]}),(0,a.jsxs)(j.$,{variant:"outline",size:"sm",onClick:W,disabled:z,children:[(0,a.jsx)(x.A,{className:"mr-2 h-4 w-4"}),z?E("patient.prescription.translatingButton"):E("patient.prescription.translateButton")]})]}),(0,a.jsx)("div",{className:"mt-4 bg-background rounded-md border",children:(0,a.jsxs)(R.XI,{children:[(0,a.jsx)(R.A0,{children:(0,a.jsxs)(R.Hj,{children:[(0,a.jsx)(R.nd,{children:E("patient.prescription.drugHeader")}),(0,a.jsx)(R.nd,{children:E("patient.prescription.dosageHeader")}),(0,a.jsx)(R.nd,{children:E("patient.prescription.notesHeader")})]})}),(0,a.jsx)(R.BF,{children:q.map((e,t)=>(0,a.jsxs)(R.Hj,{children:[(0,a.jsx)(R.nA,{className:"font-medium",children:e.drug}),(0,a.jsx)(R.nA,{children:e.dosage}),(0,a.jsx)(R.nA,{children:e.notes})]},t))})]})})]}),5===P&&(0,a.jsxs)("div",{className:"text-center space-y-4 animate-in fade-in-50",children:[(0,a.jsx)(u.A,{className:"mx-auto h-12 w-12 text-primary"}),(0,a.jsx)("h3",{className:"font-bold text-lg",children:E("patient.feedback.thankYou")}),(0,a.jsx)("p",{className:"text-muted-foreground",children:E("patient.feedback.prompt")}),(0,a.jsx)(j.$,{asChild:!0,children:(0,a.jsx)(h(),{href:"/feedback/".concat(e.id),children:E("patient.feedback.button")})})]})]})]})})}},66695:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>i,aR:()=>l});var a=s(95155),r=s(12115),n=s(59434);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});i.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})});l.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});d.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...r})});o.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},85057:(e,t,s)=>{"use strict";s.d(t,{J:()=>c});var a=s(95155),r=s(12115),n=s(40968),i=s(74466),l=s(59434);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.b,{ref:t,className:(0,l.cn)(d(),s),...r})});c.displayName=n.b.displayName},85127:(e,t,s)=>{"use strict";s.d(t,{A0:()=>l,BF:()=>d,Hj:()=>c,XI:()=>i,nA:()=>m,nd:()=>o});var a=s(95155),r=s(12115),n=s(59434);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",s),...r})})});i.displayName="Table";let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",s),...r})});l.displayName="TableHeader";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",s),...r})});d.displayName="TableBody",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})}).displayName="TableFooter";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});c.displayName="TableRow";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});o.displayName="TableHead";let m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});m.displayName="TableCell",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption"},90048:(e,t,s)=>{Promise.resolve().then(s.bind(s,63078))}},e=>{var t=t=>e(e.s=t);e.O(0,[277,874,595,225,441,684,358],()=>t(90048)),_N_E=e.O()}]);